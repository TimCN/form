{"version":3,"sources":["webpack:///./index.js?2645*****","webpack:///./src/index.js?9552*****","webpack:///./examples/styles.js?acb5******","webpack:///./examples/file-input.js"],"names":["form","createForm","regionStyle","border","marginTop","padding","errorStyle","color","getFileValueProps","value","target","getValueFromFileEvent","Form","createClass","propTypes","object","onSubmit","e","preventDefault","props","validateFields","error","values","console","log","data","FormData","append","attachment","files","fetch","method","body","checkSize","rule","callback","size","undefined","render","getFieldProps","getFieldError","errors","getValueProps","getValueFromEvent","rules","join","App","Component","document","getElementById"],"mappings":"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","file":"file-input.js","sourcesContent":["// export this package's api\nimport * as form from './src/';\nexport default form;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// export this package's api\nimport createForm from './createForm';\nexport { createForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const regionStyle = {\n  border: '1px solid red',\n  marginTop: 10,\n  padding: 10,\n};\n\nexport const errorStyle = {\n  color: 'red',\n  marginTop: 10,\n  padding: 10,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./examples/styles.js","/* eslint react/no-multi-comp:0, no-console:0 */\n\nimport { createForm } from 'rc-form';\nimport React, { PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { regionStyle, errorStyle } from './styles';\n\nfunction getFileValueProps(value) {\n  if (value && value.target) {\n    return {\n      value: value.target.value,\n    };\n  }\n  return {\n    value,\n  };\n}\n\nfunction getValueFromFileEvent({ target }) {\n  return {\n    target,\n  };\n}\n\nlet Form = React.createClass({\n  propTypes: {\n    form: PropTypes.object,\n  },\n\n  onSubmit(e) {\n    e.preventDefault();\n    this.props.form.validateFields((error, values) => {\n      console.log(error, values);\n      if (!error) {\n        const data = new FormData();\n        data.append('file', values.attachment.target.files[0]);\n        fetch('/post.htm', {\n          method: 'post',\n          body: data,\n        });\n      }\n    });\n  },\n\n  checkSize(rule, value, callback) {\n    if (value && value.target) {\n      const files = value.target.files;\n      if (files[0]) {\n        callback(files[0].size > 1000000 ? 'file size must be less than 1M' : undefined);\n      } else {\n        callback();\n      }\n    } else {\n      callback();\n    }\n  },\n\n  render() {\n    const { getFieldProps, getFieldError } = this.props.form;\n    const errors = getFieldError('attachment');\n    return (<div\n      style={ regionStyle }\n    >\n      <div>attachment:</div>\n      <div>\n        <input type=\"file\" {...getFieldProps('attachment', {\n          getValueProps: getFileValueProps,\n          getValueFromEvent: getValueFromFileEvent,\n          rules: [this.checkSize],\n        })}\n        />\n      </div>\n      <div style={errorStyle}>\n        {(errors) ? errors.join(',') : null}\n      </div>\n      <button onClick={this.onSubmit}>submit</button>\n    </div>);\n  },\n});\n\nForm = createForm()(Form);\n\nclass App extends React.Component {\n  render() {\n    return (<div>\n      <h2>input[type=\"file\"]</h2>\n      <Form />\n    </div>);\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/file-input.js"],"sourceRoot":""}