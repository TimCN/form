{"version":3,"sources":["webpack:///./index.js?2645*******","webpack:///./src/index.js?9552*******","webpack:///./examples/styles.js?acb5*********","webpack:///./~/.1.11.6@antd/dist/antd.css?470e*","webpack:///./examples/normalize.js"],"names":["form","createForm","regionStyle","border","marginTop","padding","errorStyle","color","CustomInput","createClass","propTypes","object","getInitialState","data","checkUpper","rule","value","callback","toUpperCase","Error","toUpper","v","prev","render","props","getFieldProps","getFieldError","errors","normalize","rules","validator","join","MaxMin","normalizeMin","prevValue","allValues","console","log","min","max","previousAllValues","getFieldsValue","Number","normalizeMax","initialValue","Form","onSubmit","e","preventDefault","validateFields","error","values","margin","NewForm","document","getElementById"],"mappings":"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","file":"normalize.js","sourcesContent":["// export this package's api\nimport * as form from './src/';\nexport default form;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// export this package's api\nimport createForm from './createForm';\nexport { createForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const regionStyle = {\n  border: '1px solid red',\n  marginTop: 10,\n  padding: 10,\n};\n\nexport const errorStyle = {\n  color: 'red',\n  marginTop: 10,\n  padding: 10,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./examples/styles.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.11.6@antd/dist/antd.css\n// module id = 285\n// module chunks = 4 8 9 10 11 17 18 19","/* eslint react/no-multi-comp:0, no-console:0 */\n\nimport { createForm } from 'rc-form';\nimport React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport { regionStyle, errorStyle } from './styles';\n\nconst CustomInput = React.createClass({\n  propTypes: {\n    form: PropTypes.object,\n  },\n  getInitialState() {\n    return {\n      data: [],\n    };\n  },\n  checkUpper(rule, value, callback) {\n    if (value !== value.toUpperCase()) {\n      callback(new Error('need to be upper!'));\n    } else {\n      callback();\n    }\n  },\n  toUpper(v, prev) {\n    if (v === prev) {\n      return v;\n    }\n    return v.toUpperCase();\n  },\n  render() {\n    const { getFieldProps, getFieldError } = this.props.form;\n    const errors = getFieldError('upper');\n    return (<div style={ regionStyle }>\n      <div>upper normalize</div>\n      <div>\n        <input {...getFieldProps('upper', {\n          normalize: this.toUpper,\n          rules: [{\n            validator: this.checkUpper,\n          }],\n        })}\n        />\n      </div>\n      <div style={errorStyle}>\n        {(errors) ? errors.join(',') : null}\n      </div>\n    </div>);\n  },\n});\n\nconst MaxMin = React.createClass({\n  propTypes: {\n    form: PropTypes.object,\n  },\n  normalizeMin(value, prevValue, allValues) {\n    console.log('normalizeMin', allValues.min, allValues.max);\n    const previousAllValues = this.props.form.getFieldsValue();\n    if (allValues.max !== previousAllValues.max) {\n      // max changed\n      if (value === '' || Number(allValues.max) < Number(value)) {\n        return allValues.max;\n      }\n    }\n    return value;\n  },\n  normalizeMax(value, prevValue, allValues) {\n    console.log('normalizeMax', allValues.min, allValues.max);\n    const previousAllValues = this.props.form.getFieldsValue();\n    if (allValues.min !== previousAllValues.min) {\n      // min changed\n      if (value === '' || Number(allValues.min) > Number(value)) {\n        return allValues.min;\n      }\n    }\n    return value;\n  },\n  render() {\n    const { getFieldProps } = this.props.form;\n    return (<div style={ regionStyle }>\n      <div>min: <select\n        {...getFieldProps('min', {\n          normalize: this.normalizeMin,\n          initialValue: '',\n        })}\n      >\n        <option value=\"\">empty</option>\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n      </select>\n      </div>\n      <div>max: <select\n        {...getFieldProps('max', {\n          initialValue: '',\n          normalize: this.normalizeMax,\n        })}\n      >\n        <option value=\"\">empty</option>\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n      </select>\n      </div>\n    </div>);\n  },\n});\n\nclass Form extends Component {\n  static propTypes = {\n    form: PropTypes.object,\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((error, values) => {\n      if (!error) {\n        console.log('ok', values);\n      } else {\n        console.log('error', error, values);\n      }\n    });\n  }\n\n  render() {\n    const { form } = this.props;\n    return (<div style={{ margin: 20 }}>\n      <h2>normalize</h2>\n      <form onSubmit={this.onSubmit}>\n        <CustomInput form={ form }/>\n\n        <MaxMin form={ form }/>\n\n        <div style={ regionStyle }>\n          <button>submit</button>\n        </div>\n      </form>\n    </div>);\n  }\n}\n\nconst NewForm = createForm()(Form);\n\nReactDOM.render(<NewForm />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/normalize.js"],"sourceRoot":""}